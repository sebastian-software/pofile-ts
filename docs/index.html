<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pofile-ts â€” Parse and serialize Gettext PO files</title>
    <meta
      name="description"
      content="A robust TypeScript library for reading and writing GNU gettext PO files. Zero dependencies, full type safety."
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="layout">
      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        <a href="index.html" class="sidebar-logo">
          <img src="logo.svg" alt="pofile-ts" />
          <span>pofile-ts</span>
        </a>

        <nav class="sidebar-nav">
          <div class="sidebar-section">
            <div class="sidebar-section-title">Getting Started</div>
            <a href="index.html" class="sidebar-link active">Overview</a>
            <a href="guide.html" class="sidebar-link">Quick Start</a>
            <a href="guide.html#helpers" class="sidebar-link">i18n Helpers</a>
          </div>

          <div class="sidebar-section">
            <div class="sidebar-section-title">Reference</div>
            <a href="format.html" class="sidebar-link">PO File Format</a>
            <a href="api.html" class="sidebar-link">API Reference</a>
            <a href="api.html#options" class="sidebar-link">Options</a>
          </div>

          <div class="sidebar-section">
            <div class="sidebar-section-title">More</div>
            <a href="migration.html" class="sidebar-link">Migration Guide</a>
            <a
              href="https://github.com/sebastian-software/pofile-ts"
              class="sidebar-link"
              target="_blank"
              rel="noopener"
              >GitHub â†—</a
            >
            <a
              href="https://www.npmjs.com/package/pofile-ts"
              class="sidebar-link"
              target="_blank"
              rel="noopener"
              >npm â†—</a
            >
          </div>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="main">
        <button class="mobile-menu-toggle" onclick="toggleMenu()" aria-label="Toggle menu">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <line x1="3" y1="12" x2="21" y2="12" />
            <line x1="3" y1="6" x2="21" y2="6" />
            <line x1="3" y1="18" x2="21" y2="18" />
          </svg>
        </button>

        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
          <svg
            class="sun"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="12" cy="12" r="5" />
            <line x1="12" y1="1" x2="12" y2="3" />
            <line x1="12" y1="21" x2="12" y2="23" />
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
            <line x1="1" y1="12" x2="3" y2="12" />
            <line x1="21" y1="12" x2="23" y2="12" />
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
          </svg>
          <svg
            class="moon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
          </svg>
        </button>

        <div class="container">
          <header>
            <div class="logo">
              <img src="logo.svg" alt="pofile-ts logo" />
            </div>

            <h1>pofile-ts</h1>
            <p class="tagline">
              A modern, focused library for GNU gettext PO files. Hand-optimized for speed, runs
              everywhere â€” Node.js and browsers alike.
            </p>

            <div class="badges">
              <a href="https://www.typescriptlang.org/" class="badge badge--ts">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"
                  />
                </svg>
                TypeScript 5.x
              </a>
              <span class="badge badge--browser">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2 0-.68.06-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.923 7.923 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8.008 8.008 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.65 15.65 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"
                  />
                </svg>
                Browser Ready
              </span>
              <span class="badge">ðŸ“¦ Zero Dependencies</span>
              <span class="badge">âš¡ ESM + CJS</span>
            </div>

            <div class="cta-buttons">
              <a href="guide.html" class="btn btn--primary">Get Started</a>
              <a
                href="https://github.com/sebastian-software/pofile-ts"
                class="btn btn--secondary"
                target="_blank"
                rel="noopener"
              >
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"
                  />
                </svg>
                View on GitHub
              </a>
            </div>

            <div class="install">
              <code>npm install pofile-ts</code>
              <button
                onclick="navigator.clipboard.writeText('npm install pofile-ts')"
                title="Copy to clipboard"
              >
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
                </svg>
              </button>
            </div>
          </header>

          <!-- Features -->
          <section>
            <h2>Features</h2>
            <div class="features">
              <div class="feature">
                <div class="feature-icon">
                  <img src="icons/book-open.svg" alt="" width="24" height="24" />
                </div>
                <h4>Parse PO Files</h4>
                <p>Read PO files from strings with full escape sequence support</p>
              </div>
              <div class="feature">
                <div class="feature-icon">
                  <img src="icons/pen-line.svg" alt="" width="24" height="24" />
                </div>
                <h4>Serialize PO Files</h4>
                <p>Convert PO data back to properly formatted strings</p>
              </div>
              <div class="feature">
                <div class="feature-icon">
                  <img src="icons/target.svg" alt="" width="24" height="24" />
                </div>
                <h4>Full PO Support</h4>
                <p>Headers, comments, flags, plurals, and message context</p>
              </div>
              <div class="feature">
                <div class="feature-icon">
                  <img src="icons/package.svg" alt="" width="24" height="24" />
                </div>
                <h4>Zero Dependencies</h4>
                <p>No Node.js APIs required â€” works in browsers too</p>
              </div>
              <div class="feature">
                <div class="feature-icon">
                  <img src="icons/code.svg" alt="" width="24" height="24" />
                </div>
                <h4>TypeScript First</h4>
                <p>Full type definitions for excellent IDE support</p>
              </div>
              <div class="feature">
                <div class="feature-icon">
                  <img src="icons/zap.svg" alt="" width="24" height="24" />
                </div>
                <h4>Blazing Fast</h4>
                <p>Up to 23Ã— faster than alternatives â€” optimized hot paths</p>
              </div>
              <div class="feature">
                <div class="feature-icon">
                  <img src="icons/globe.svg" alt="" width="24" height="24" />
                </div>
                <h4>i18n Workflow Helpers</h4>
                <p>Catalog conversion, message IDs, reference parsing â€” batteries included</p>
              </div>
            </div>
          </section>

          <!-- Why Section -->
          <section id="why">
            <h2>Why pofile-ts?</h2>
            <p>
              pofile-ts is a modernized fork of
              <a href="https://github.com/rubenv/pofile">pofile</a>
              with a clear philosophy: do one thing exceptionally well.
            </p>

            <div class="why-grid">
              <div class="why-card">
                <div class="why-icon">
                  <img src="icons/target.svg" alt="" width="24" height="24" />
                </div>
                <h4>Focused</h4>
                <p>PO files only â€” optimized for the 99% use case</p>
              </div>
              <div class="why-card">
                <div class="why-icon">
                  <img src="icons/globe.svg" alt="" width="24" height="24" />
                </div>
                <h4>Modern</h4>
                <p>UTF-8 exclusively, like every tool since 2010</p>
              </div>
              <div class="why-card">
                <div class="why-icon">
                  <img src="icons/monitor.svg" alt="" width="24" height="24" />
                </div>
                <h4>Universal</h4>
                <p>Runs in Node.js and browsers without polyfills</p>
              </div>
              <div class="why-card">
                <div class="why-icon">
                  <img src="icons/zap.svg" alt="" width="24" height="24" />
                </div>
                <h4>Hand-optimized</h4>
                <p>We spent way too much time making this fast ðŸ˜…</p>
              </div>
            </div>

            <p class="why-result">The result? <strong>23Ã— faster parsing</strong>.</p>
          </section>

          <!-- Performance Section -->
          <section id="performance">
            <h2>Performance</h2>
            <p>Benchmarked with 10,000 entries (~10% plurals, reflecting real-world usage):</p>

            <table class="api-table perf-table">
              <thead>
                <tr>
                  <th>Library</th>
                  <th>Parsing</th>
                  <th style="width: 25%"></th>
                  <th>Serialization</th>
                  <th style="width: 25%"></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>pofile-ts</strong></td>
                  <td><code>185 ops/s</code></td>
                  <td>
                    <div
                      class="perf-bar"
                      style="
                        width: 100%;
                        background: linear-gradient(90deg, var(--accent), var(--accent-secondary));
                      "
                    ></div>
                  </td>
                  <td><code>217 ops/s</code></td>
                  <td>
                    <div
                      class="perf-bar"
                      style="
                        width: 100%;
                        background: linear-gradient(90deg, var(--accent), var(--accent-secondary));
                      "
                    ></div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a href="https://github.com/smhg/gettext-parser" target="_blank" rel="noopener"
                      >gettext-parser</a
                    >
                  </td>
                  <td><code>27 ops/s</code></td>
                  <td><div class="perf-bar" style="width: 15%"></div></td>
                  <td><code>53 ops/s</code></td>
                  <td><div class="perf-bar" style="width: 24%"></div></td>
                </tr>
                <tr>
                  <td>
                    <a href="https://github.com/rubenv/pofile" target="_blank" rel="noopener"
                      >pofile</a
                    >
                  </td>
                  <td><code>8 ops/s</code></td>
                  <td><div class="perf-bar" style="width: 4%"></div></td>
                  <td><code>100 ops/s</code></td>
                  <td><div class="perf-bar" style="width: 46%"></div></td>
                </tr>
              </tbody>
            </table>

            <div class="perf-summary">
              <div class="perf-stat">
                <span class="perf-number">23Ã—</span>
                <span class="perf-label">faster parsing vs pofile</span>
              </div>
              <div class="perf-stat">
                <span class="perf-number">7Ã—</span>
                <span class="perf-label">faster parsing vs gettext-parser</span>
              </div>
              <div class="perf-stat">
                <span class="perf-number">2Ã—</span>
                <span class="perf-label">faster serialization vs pofile</span>
              </div>
              <div class="perf-stat">
                <span class="perf-number">4Ã—</span>
                <span class="perf-label">faster serialization vs gettext-parser</span>
              </div>
            </div>

            <p class="compat-note">
              Run the benchmark yourself:
              <code style="background: var(--bg-code); padding: 4px 8px; border-radius: 4px"
                >cd benchmark && pnpm install && pnpm bench</code
              >
            </p>
          </section>

          <!-- Compatible With -->
          <section id="compatible">
            <h2>Compatible With</h2>
            <p>
              pofile-ts implements the
              <a
                href="https://www.gnu.org/software/gettext/manual/html_node/PO-Files.html"
                target="_blank"
                rel="noopener"
                >GNU gettext PO file format</a
              >
              and integrates seamlessly with translation platforms.
            </p>
            <div class="compat-logos">
              <a
                href="https://www.gnu.org/software/gettext/"
                class="compat-logo compat-logo--gnu"
                target="_blank"
                rel="noopener"
              >
                <img src="gnu.svg" alt="GNU" class="compat-logo-img" />
                <span>GNU gettext</span>
              </a>
              <a
                href="https://crowdin.com/"
                class="compat-logo compat-logo--crowdin"
                target="_blank"
                rel="noopener"
              >
                <img src="crowdin.svg" alt="Crowdin" class="compat-logo-img" />
                <span>Crowdin</span>
              </a>
            </div>
            <p class="compat-note">
              <strong>Crowdin-optimized output:</strong> By default, pofile-ts uses a compact
              multiline format that avoids unnecessary diffs when syncing with Crowdin.
            </p>
          </section>

          <footer>
            <p>
              Released under the
              <a href="https://github.com/sebastian-software/pofile-ts/blob/main/LICENSE"
                >MIT License</a
              >
            </p>
            <p class="credits">
              Maintained by <a href="https://sebastian-software.de/">Sebastian Software</a>
            </p>
          </footer>
        </div>
      </main>
    </div>

    <script>
      function toggleTheme() {
        const html = document.documentElement
        const current = html.getAttribute("data-theme")
        const next = current === "light" ? "dark" : "light"
        html.setAttribute("data-theme", next)
        localStorage.setItem("theme", next)
      }

      function toggleMenu() {
        document.getElementById("sidebar").classList.toggle("open")
      }

      // Load saved theme
      const saved = localStorage.getItem("theme")
      if (saved) {
        document.documentElement.setAttribute("data-theme", saved)
      } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
        document.documentElement.setAttribute("data-theme", "light")
      }
    </script>
  </body>
</html>
